import{z as p,T as j,o as w,f as h,a as o,u as s,w as n,F as C,Z as B,e as i,b as l,t as f,p as H,j as k,k as D,A as F}from"./app-BFdvWdPW.js";import{_ as I}from"./AuthenticatedLayout-DLkwLcfa.js";import{C as O,T as x}from"./CardTable-l0smLcxO.js";import{_ as y}from"./Button-DFQRb66K.js";import{_ as A}from"./InputError-a4mSKZfl.js";import{_ as V}from"./Modal-joEd8Ug0.js";import{_ as c}from"./DashboardInputGroup-Bt3DPHes.js";import{s as M}from"./Helper-BCdQTIvK.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-B1CxOjRT.js";import"./AsyncVueSelect-B28Y1GZM.js";import"./SubmitButton-D3rMXE0N.js";const z={class:"flex flex-wrap"},L={class:"w-full px-4"},R={class:"flex justify-between items-center"},W={class:"text-2xl"},Y=l("i",{class:"fa fa-edit"},null,-1),Z=l("i",{class:"fa fa-trash-alt"},null,-1),q={class:"mt-2 grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3"},G={class:"flex flex-col overflow-auto"},J={class:"flex flex-col overflow-auto"},Q={class:"mt-2"},X=l("label",{for:"description",class:"text-stone-600 text-sm font-medium"},"Description",-1),ee={class:"mt-2 grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3"},se={class:"flex flex-col overflow-auto"},te={class:"flex flex-col overflow-auto"},oe={class:"mt-2"},le=l("label",{for:"description",class:"text-stone-600 text-sm font-medium"},"Description",-1),ge={__name:"Index",props:{filters:{type:Object},expenses:{type:Object}},setup(d){const _=p(null),g=p(!1),v=p(!1),b=p(!1),E=p(null),S=p(["#","Name","Amount","Expense Date","Action"]),e=j({name:"",description:"",amount:"",expense_date:""}),T=r=>{_.value=r,e.name=r.name,e.description=r.description,e.amount=r.amount,e.expense_date=r.expense_date,v.value=!0,F(()=>E.value.focus())},U=r=>{_.value=r,b.value=!0},u=()=>{e.post(route("expenses.store"),{preserveScroll:!0,onSuccess:r=>{m(),M()},onError:()=>E.value.focus()})},$=()=>{e.put(route("expenses.update",_.value.id),{preserveScroll:!0,onSuccess:()=>{m(),M()},onError:()=>E.value.focus()})},K=()=>{e.delete(route("expenses.destroy",_.value.id),{preserveScroll:!0,onSuccess:()=>{m(),M()}})},m=()=>{g.value=!1,v.value=!1,b.value=!1,e.reset()};return(r,a)=>(w(),h(C,null,[o(s(B),{title:"Expense"}),o(I,null,{breadcrumb:n(()=>[i(" Expenses ")]),default:n(()=>[l("div",z,[l("div",L,[o(O,{indexRoute:"expenses.index",paginatedData:d.expenses,filters:d.filters,tableHeads:S.value},{cardHeader:n(()=>[l("div",R,[l("h4",W,"Apply filters("+f(d.expenses.total)+")",1),o(y,{onClick:a[0]||(a[0]=t=>g.value=!0)},{default:n(()=>[i("Create Expense")]),_:1})])]),default:n(()=>[(w(!0),h(C,null,H(d.expenses.data,(t,N)=>(w(),h("tr",{key:t.id},[o(x,null,{default:n(()=>[i(f(d.expenses.current_page*d.expenses.per_page-(d.expenses.per_page-(N+1))),1)]),_:2},1024),o(x,null,{default:n(()=>[i(f(t.name),1)]),_:2},1024),o(x,null,{default:n(()=>[i(f(t.amount),1)]),_:2},1024),o(x,null,{default:n(()=>[i(f(t.expense_date),1)]),_:2},1024),o(x,null,{default:n(()=>[o(y,{onClick:P=>T(t)},{default:n(()=>[Y]),_:2},1032,["onClick"]),o(y,{onClick:P=>U(t),type:"red"},{default:n(()=>[Z]),_:2},1032,["onClick"])]),_:2},1024)]))),128))]),_:1},8,["paginatedData","filters","tableHeads"])])]),o(V,{title:"Create",show:g.value,formProcessing:s(e).processing,onClose:m,onSubmitAction:u},{default:n(()=>[l("div",null,[o(c,{label:"Name",name:"name",modelValue:s(e).name,"onUpdate:modelValue":a[1]||(a[1]=t=>s(e).name=t),placeholder:"Enter name",errorMessage:s(e).errors.name,onKeyupEnter:u},null,8,["modelValue","errorMessage"])]),l("div",q,[l("div",G,[o(c,{label:"Amount",name:"amount",modelValue:s(e).amount,"onUpdate:modelValue":a[2]||(a[2]=t=>s(e).amount=t),placeholder:"Enter amount",errorMessage:s(e).errors.amount,onKeyupEnter:u,type:"number"},null,8,["modelValue","errorMessage"])]),l("div",J,[o(c,{label:"Expense Date",name:"expense_date",modelValue:s(e).expense_date,"onUpdate:modelValue":a[3]||(a[3]=t=>s(e).expense_date=t),placeholder:"Enter expense date",errorMessage:s(e).errors.expense_date,onKeyupEnter:u,type:"date"},null,8,["modelValue","errorMessage"])])]),l("div",Q,[X,k(l("textarea",{id:"description","onUpdate:modelValue":a[4]||(a[4]=t=>s(e).description=t),type:"text",rows:"3",placeholder:"Enter description",class:"mt-2 block w-full rounded-md border border-gray-200 px-2 py-2 shadow-sm outline-none focus:outline-none focus:shadow-outline"},null,512),[[D,s(e).description]]),o(A,{message:s(e).errors.description},null,8,["message"])])]),_:1},8,["show","formProcessing"]),o(V,{title:"Edit",show:v.value,formProcessing:s(e).processing,onClose:m,onSubmitAction:$},{default:n(()=>[l("div",null,[o(c,{label:"Name",name:"name",modelValue:s(e).name,"onUpdate:modelValue":a[5]||(a[5]=t=>s(e).name=t),placeholder:"Enter name",errorMessage:s(e).errors.name,onKeyupEnter:u},null,8,["modelValue","errorMessage"])]),l("div",ee,[l("div",se,[o(c,{label:"Amount",name:"amount",modelValue:s(e).amount,"onUpdate:modelValue":a[6]||(a[6]=t=>s(e).amount=t),placeholder:"Enter amount",errorMessage:s(e).errors.amount,onKeyupEnter:u,type:"number"},null,8,["modelValue","errorMessage"])]),l("div",te,[o(c,{label:"Expense Date",name:"expense_date",modelValue:s(e).expense_date,"onUpdate:modelValue":a[7]||(a[7]=t=>s(e).expense_date=t),placeholder:"Enter expense date",errorMessage:s(e).errors.expense_date,onKeyupEnter:u,type:"date"},null,8,["modelValue","errorMessage"])])]),l("div",oe,[le,k(l("textarea",{id:"description","onUpdate:modelValue":a[8]||(a[8]=t=>s(e).description=t),type:"text",rows:"3",placeholder:"Enter description",class:"mt-2 block w-full rounded-md border border-gray-200 px-2 py-2 shadow-sm outline-none focus:outline-none focus:shadow-outline"},null,512),[[D,s(e).description]]),o(A,{message:s(e).errors.description},null,8,["message"])])]),_:1},8,["show","formProcessing"]),o(V,{title:"Delete",show:b.value,formProcessing:s(e).processing,onClose:m,onSubmitAction:K,maxWidth:"sm",submitButtonText:"Yes, delete it!"},{default:n(()=>[i(" Are you sure you want to delete this expense? ")]),_:1},8,["show","formProcessing"])]),_:1})],64))}};export{ge as default};
