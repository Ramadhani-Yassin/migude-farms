import{z as f,T as N,o as u,f as m,a as t,u as s,w as r,F as k,Z as z,e as g,b as l,t as c,p as I,j as A,k as $,A as S}from"./app-BFdvWdPW.js";import{_ as F}from"./AuthenticatedLayout-DLkwLcfa.js";import{C as O,T as x}from"./CardTable-l0smLcxO.js";import{_ as V}from"./Button-DFQRb66K.js";import{_ as b}from"./InputError-a4mSKZfl.js";import{_ as M}from"./Modal-joEd8Ug0.js";import{_ as h}from"./DashboardInputGroup-Bt3DPHes.js";import{s as E}from"./Helper-BCdQTIvK.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-B1CxOjRT.js";import"./AsyncVueSelect-B28Y1GZM.js";import"./SubmitButton-D3rMXE0N.js";const G={class:"flex flex-wrap"},L={class:"w-full px-4"},R={class:"flex justify-between items-center"},W={class:"text-2xl"},Y=["src"],Z={class:"ml-3 font-bold text-blueGray-600"},q=l("i",{class:"fa fa-edit"},null,-1),J=l("i",{class:"fa fa-trash-alt"},null,-1),Q={class:"grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3"},X={class:"flex flex-col"},ee={class:"flex flex-col"},se={class:"flex flex-col"},le={class:"flex flex-col"},oe={class:"w-64 flex flex-col items-center px-4 py-6 bg-white text-blue rounded-lg shadow-lg tracking-wide uppercase border border-blue cursor-pointer hover:bg-blue hover:text-emerald-600"},te=l("svg",{class:"w-8 h-8",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[l("path",{d:"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z"})],-1),ae={key:0,class:"mt-2 text-base leading-normal"},re={key:1,class:"mt-2 text-base leading-normal"},ne={class:"flex flex-col"},de=l("label",{for:"address",class:"text-stone-600 text-sm font-medium"},"Address",-1),ie={class:"grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3"},ue={class:"flex flex-col"},me={class:"flex flex-col"},ce={class:"flex flex-col"},pe={class:"flex flex-col"},fe={class:"w-64 flex flex-col items-center px-4 py-6 bg-white text-blue rounded-lg shadow-lg tracking-wide uppercase border border-blue cursor-pointer hover:bg-blue hover:text-emerald-600"},ge=l("svg",{class:"w-8 h-8",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[l("path",{d:"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z"})],-1),he={key:0,class:"mt-2 text-base leading-normal"},xe={key:1,class:"mt-2 text-base leading-normal"},_e={class:"flex flex-col"},ve=l("label",{for:"address",class:"text-stone-600 text-sm font-medium"},"Address",-1),Te={__name:"Index",props:{filters:{type:Object},customers:{type:Object}},setup(d){const _=f(null),w=f(!1),y=f(!1),C=f(!1),v=f(null),P=f(["#","Name","Email","Phone","Action"]),e=N({name:null,email:null,phone:null,address:null,photo:null}),T=()=>{w.value=!0,S(()=>v.value.focus())},j=n=>{_.value=n,e.name=n.name,e.email=n.email,e.phone=n.phone,e.address=n.address,e.photo=null,y.value=!0,S(()=>v.value.focus())},U=n=>{_.value=n,C.value=!0},i=()=>{e.post(route("customers.store"),{preserveScroll:!0,onSuccess:()=>{p(),E()},onError:()=>v.value.focus()})},D=()=>{e.transform(n=>({...n,_method:"put"})).post(route("customers.update",_.value.id),{preserveScroll:!0,onSuccess:()=>{p(),E()},onError:()=>v.value.focus()})},B=()=>{e.delete(route("customers.destroy",_.value.id),{preserveScroll:!0,onSuccess:()=>{p(),E()}})},p=()=>{w.value=!1,y.value=!1,C.value=!1,e.reset()};return(n,a)=>(u(),m(k,null,[t(s(z),{title:"Customer"}),t(F,null,{breadcrumb:r(()=>[g(" Customers ")]),default:r(()=>[l("div",G,[l("div",L,[t(O,{indexRoute:"customers.index",paginatedData:d.customers,filters:d.filters,tableHeads:P.value},{cardHeader:r(()=>[l("div",R,[l("h4",W,"Apply filters("+c(d.customers.total)+")",1),t(V,{onClick:T},{default:r(()=>[g("Create Customer")]),_:1})])]),default:r(()=>[(u(!0),m(k,null,I(d.customers.data,(o,H)=>(u(),m("tr",{key:o.id},[t(x,null,{default:r(()=>[g(c(d.customers.current_page*d.customers.per_page-(d.customers.per_page-(H+1))),1)]),_:2},1024),t(x,{class:"text-left flex items-center"},{default:r(()=>[l("img",{src:o.photo,class:"h-12 w-12 bg-white rounded-full border",alt:"Inventory management system"},null,8,Y),l("span",Z,c(o.name),1)]),_:2},1024),t(x,null,{default:r(()=>[g(c(o.email),1)]),_:2},1024),t(x,null,{default:r(()=>[g(c(o.phone),1)]),_:2},1024),t(x,null,{default:r(()=>[t(V,{onClick:K=>j(o)},{default:r(()=>[q]),_:2},1032,["onClick"]),t(V,{onClick:K=>U(o),type:"red"},{default:r(()=>[J]),_:2},1032,["onClick"])]),_:2},1024)]))),128))]),_:1},8,["paginatedData","filters","tableHeads"])])]),t(M,{title:"Create",show:w.value,formProcessing:s(e).processing,onClose:p,onSubmitAction:i},{default:r(()=>[l("div",Q,[l("div",X,[t(h,{label:"Name",name:"name",modelValue:s(e).name,"onUpdate:modelValue":a[0]||(a[0]=o=>s(e).name=o),placeholder:"Enter name",errorMessage:s(e).errors.name,onKeyupEnter:i},null,8,["modelValue","errorMessage"])]),l("div",ee,[t(h,{label:"Email",name:"email",modelValue:s(e).email,"onUpdate:modelValue":a[1]||(a[1]=o=>s(e).email=o),placeholder:"Enter email",errorMessage:s(e).errors.email,onKeyupEnter:i,type:"email"},null,8,["modelValue","errorMessage"])]),l("div",se,[t(h,{label:"Phone",name:"phone",modelValue:s(e).phone,"onUpdate:modelValue":a[2]||(a[2]=o=>s(e).phone=o),placeholder:"Enter phone",errorMessage:s(e).errors.phone,onKeyupEnter:i},null,8,["modelValue","errorMessage"])]),l("div",le,[l("label",oe,[te,s(e).photo?(u(),m("span",ae,c(s(e).photo.name.replace(/(^.{17}).*(\..+$)/,"$1...$2")),1)):(u(),m("span",re,"Select a photo")),l("input",{onInput:a[3]||(a[3]=o=>s(e).photo=o.target.files[0]),type:"file",class:"hidden",accept:"image/png, image/jpeg, image/jpg, image/gif, image/svg"},null,32)]),t(b,{message:s(e).errors.photo},null,8,["message"])]),l("div",ne,[de,A(l("textarea",{id:"address","onUpdate:modelValue":a[4]||(a[4]=o=>s(e).address=o),type:"text",rows:"3",placeholder:"Enter address",class:"mt-2 block w-full rounded-md border border-gray-200 px-2 py-2 shadow-sm outline-none focus:outline-none focus:shadow-outline"},null,512),[[$,s(e).address]]),t(b,{message:s(e).errors.address},null,8,["message"])])])]),_:1},8,["show","formProcessing"]),t(M,{title:"Edit",show:y.value,formProcessing:s(e).processing,onClose:p,onSubmitAction:D},{default:r(()=>[l("div",ie,[l("div",ue,[t(h,{label:"Name",name:"name",modelValue:s(e).name,"onUpdate:modelValue":a[5]||(a[5]=o=>s(e).name=o),placeholder:"Enter name",errorMessage:s(e).errors.name,onKeyupEnter:i},null,8,["modelValue","errorMessage"])]),l("div",me,[t(h,{label:"Email",name:"email",modelValue:s(e).email,"onUpdate:modelValue":a[6]||(a[6]=o=>s(e).email=o),placeholder:"Enter email",errorMessage:s(e).errors.email,onKeyupEnter:i,type:"email"},null,8,["modelValue","errorMessage"])]),l("div",ce,[t(h,{label:"Phone",name:"phone",modelValue:s(e).phone,"onUpdate:modelValue":a[7]||(a[7]=o=>s(e).phone=o),placeholder:"Enter phone",errorMessage:s(e).errors.phone,onKeyupEnter:i},null,8,["modelValue","errorMessage"])]),l("div",pe,[l("label",fe,[ge,s(e).photo?(u(),m("span",he,c(s(e).photo.name.replace(/(^.{17}).*(\..+$)/,"$1...$2")),1)):(u(),m("span",xe,"Select a photo")),l("input",{onInput:a[8]||(a[8]=o=>s(e).photo=o.target.files[0]),type:"file",class:"hidden",accept:"image/png, image/jpeg, image/jpg, image/gif, image/svg"},null,32)]),t(b,{message:s(e).errors.photo},null,8,["message"])]),l("div",_e,[ve,A(l("textarea",{id:"address","onUpdate:modelValue":a[9]||(a[9]=o=>s(e).address=o),type:"text",rows:"3",placeholder:"Enter address",class:"mt-2 block w-full rounded-md border border-gray-200 px-2 py-2 shadow-sm outline-none focus:outline-none focus:shadow-outline"},null,512),[[$,s(e).address]]),t(b,{message:s(e).errors.address},null,8,["message"])])])]),_:1},8,["show","formProcessing"]),t(M,{title:"Delete",show:C.value,formProcessing:s(e).processing,onClose:p,onSubmitAction:B,maxWidth:"sm",submitButtonText:"Yes, delete it!"},{default:r(()=>[g(" Are you sure you want to delete this customer? ")]),_:1},8,["show","formProcessing"])]),_:1})],64))}};export{Te as default};
