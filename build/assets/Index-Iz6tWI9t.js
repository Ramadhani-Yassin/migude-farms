import{_ as N}from"./AuthenticatedLayout-DLkwLcfa.js";import{z as f,T as A,o as i,f as d,a as s,u as c,w as t,F as v,Z as M,e as a,b as n,t as l,p as q,g as k}from"./app-BFdvWdPW.js";import{C as B,T as o}from"./CardTable-l0smLcxO.js";import{_ as b}from"./Button-DFQRb66K.js";import{_ as H}from"./Modal-joEd8Ug0.js";import{t as h,n as V,s as $}from"./Helper-BCdQTIvK.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-B1CxOjRT.js";import"./AsyncVueSelect-B28Y1GZM.js";import"./SubmitButton-D3rMXE0N.js";const j={class:"flex flex-wrap"},F={class:"w-full px-4"},I={class:"flex justify-between items-center"},O={class:"text-2xl"},E=["src"],L={class:"ml-3 font-bold text-blueGray-600"},z={key:0,class:"text-xs font-semibold inline-block py-1 px-2 rounded text-amber-600 bg-amber-200"},G={key:1,class:"text-xs font-semibold inline-block py-1 px-2 rounded text-red-600 bg-red-200"},Q={key:0,class:"text-xs font-semibold inline-block py-1 px-2 rounded text-emerald-600 bg-emerald-200"},R={key:1,class:"text-xs font-semibold inline-block py-1 px-2 rounded text-red-600 bg-red-200"},W=n("i",{class:"fa fa-edit"},null,-1),Y=n("i",{class:"fa fa-trash-alt"},null,-1),ne={__name:"Index",props:{filters:{type:Object},products:{type:Object}},setup(r){const y=f(null),w=f(!1),C=f(!1),_=f(!1),P=f(["#","Name","Product Number","Product Code","Category","Supplier","Quantity","Status","Action"]),p=A({name:null,email:null,phone:null,shop_name:null,address:null,photo:null}),S=m=>{y.value=m,_.value=!0},T=()=>{p.delete(route("products.destroy",y.value.id),{preserveScroll:!0,onSuccess:()=>{x(),$()}})},x=()=>{w.value=!1,C.value=!1,_.value=!1,p.reset()};return(m,Z)=>(i(),d(v,null,[s(c(M),{title:"Product"}),s(N,null,{breadcrumb:t(()=>[a(" Products ")]),default:t(()=>[n("div",j,[n("div",F,[s(B,{indexRoute:"products.index",paginatedData:r.products,filters:r.filters,tableHeads:P.value},{cardHeader:t(()=>[n("div",I,[n("h4",O,"Apply filters("+l(r.products.total)+")",1),s(b,{href:m.route("products.create"),buttonType:"link"},{default:t(()=>[a(" Create Product ")]),_:1},8,["href"])])]),default:t(()=>[(i(!0),d(v,null,q(r.products.data,(e,D)=>{var g;return i(),d("tr",{key:e.id},[s(o,null,{default:t(()=>[a(l(r.products.current_page*r.products.per_page-(r.products.per_page-(D+1))),1)]),_:2},1024),s(o,{class:"text-left flex items-center",title:e.name},{default:t(()=>[n("img",{src:e.photo,class:"h-12 w-12 bg-white rounded-full border",alt:"Inventory management system"},null,8,E),n("span",L,l(c(h)(e.name,15)),1)]),_:2},1032,["title"]),s(o,null,{default:t(()=>[a(l(e.product_number),1)]),_:2},1024),s(o,null,{default:t(()=>[a(l(e.product_code),1)]),_:2},1024),s(o,{title:e.category.name},{default:t(()=>[a(l(c(h)(e.category.name)),1)]),_:2},1032,["title"]),s(o,{title:(g=e.supplier)==null?void 0:g.name},{default:t(()=>{var u;return[a(l(c(h)(((u=e.supplier)==null?void 0:u.name)??"-")),1)]}),_:2},1032,["title"]),s(o,null,{default:t(()=>{var u;return[a(l(c(V)(e.quantity))+" "+l((u=e.unit_type)==null?void 0:u.symbol)+" ",1),e.quantity>0&&e.quantity<10?(i(),d("span",z,"Low Stock")):k("",!0),e.quantity<1?(i(),d("span",G,"Stock Out")):k("",!0)]}),_:2},1024),s(o,null,{default:t(()=>[e.status==="active"?(i(),d("span",Q,"Active")):(i(),d("span",R,"Inactive"))]),_:2},1024),s(o,null,{default:t(()=>[s(b,{href:m.route("products.edit",e.id),buttonType:"link",preserveScroll:""},{default:t(()=>[W]),_:2},1032,["href"]),s(b,{onClick:u=>S(e),type:"red"},{default:t(()=>[Y]),_:2},1032,["onClick"])]),_:2},1024)])}),128))]),_:1},8,["paginatedData","filters","tableHeads"])])]),s(H,{title:"Delete",show:_.value,formProcessing:c(p).processing,onClose:x,onSubmitAction:T,maxWidth:"sm",submitButtonText:"Yes, delete it!"},{default:t(()=>[a(" Are you sure you want to delete this product? ")]),_:1},8,["show","formProcessing"])]),_:1})],64))}};export{ne as default};
