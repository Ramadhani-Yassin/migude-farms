import{z as u,T as I,o as h,f as v,a as t,u as s,w as a,F as T,Z as K,e as d,b as o,t as y,p as F,j as M,k as A,q as D,A as E}from"./app-BFdvWdPW.js";import{_ as O}from"./AuthenticatedLayout-DLkwLcfa.js";import{C as U,T as w}from"./CardTable-l0smLcxO.js";import{_ as x}from"./Button-DFQRb66K.js";import{_ as N}from"./InputError-a4mSKZfl.js";import{_ as C}from"./Modal-joEd8Ug0.js";import{s as b}from"./Helper-BCdQTIvK.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-B1CxOjRT.js";import"./AsyncVueSelect-B28Y1GZM.js";import"./SubmitButton-D3rMXE0N.js";const q={class:"flex flex-wrap"},z={class:"w-full px-4"},L={class:"flex justify-between items-center"},R={class:"text-2xl"},W=o("i",{class:"fa fa-edit"},null,-1),Y=o("i",{class:"fa fa-trash-alt"},null,-1),Z=o("label",{for:"name"},"Name",-1),J=o("label",{for:"name"},"Name",-1),ue={__name:"Index",props:{filters:{type:Object},categories:{type:Object}},setup(r){const m=u(null),p=u(!1),g=u(!1),_=u(!1),n=u(null),P=u(["#","Name","Action"]),e=I({name:null}),$=()=>{p.value=!0,E(()=>n.value.focus())},V=c=>{m.value=c,e.name=c.name,g.value=!0,E(()=>n.value.focus())},j=c=>{m.value=c,_.value=!0},k=()=>{e.post(route("categories.store"),{preserveScroll:!0,onSuccess:()=>{i(),b()},onError:()=>n.value.focus()})},S=()=>{e.put(route("categories.update",m.value.id),{preserveScroll:!0,onSuccess:()=>{i(),b()},onError:()=>n.value.focus()})},B=()=>{e.delete(route("categories.destroy",m.value.id),{preserveScroll:!0,onSuccess:()=>{i(),b()}})},i=()=>{p.value=!1,g.value=!1,_.value=!1,e.reset()};return(c,f)=>(h(),v(T,null,[t(s(K),{title:"Category"}),t(O,null,{breadcrumb:a(()=>[d(" Categories ")]),default:a(()=>[o("div",q,[o("div",z,[t(U,{indexRoute:"categories.index",paginatedData:r.categories,filters:r.filters,tableHeads:P.value},{cardHeader:a(()=>[o("div",L,[o("h4",R,"Apply filters("+y(r.categories.total)+")",1),t(x,{onClick:$},{default:a(()=>[d("Create Category")]),_:1})])]),default:a(()=>[(h(!0),v(T,null,F(r.categories.data,(l,G)=>(h(),v("tr",{key:l.id},[t(w,null,{default:a(()=>[d(y(r.categories.current_page*r.categories.per_page-(r.categories.per_page-(G+1))),1)]),_:2},1024),t(w,null,{default:a(()=>[d(y(l.name),1)]),_:2},1024),t(w,null,{default:a(()=>[t(x,{onClick:H=>V(l)},{default:a(()=>[W]),_:2},1032,["onClick"]),t(x,{onClick:H=>j(l),type:"red"},{default:a(()=>[Y]),_:2},1032,["onClick"])]),_:2},1024)]))),128))]),_:1},8,["paginatedData","filters","tableHeads"])])]),t(C,{title:"Create",show:p.value,formProcessing:s(e).processing,onClose:i,onSubmitAction:k},{default:a(()=>[o("div",null,[Z,M(o("input",{id:"name",ref_key:"nameInput",ref:n,"onUpdate:modelValue":f[0]||(f[0]=l=>s(e).name=l),onKeyup:D(k,["enter"]),type:"text",placeholder:"Enter name",class:"px-3 py-3 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm shadow outline-none focus:outline-none focus:shadow-outline w-full"},null,544),[[A,s(e).name]]),t(N,{message:s(e).errors.name},null,8,["message"])])]),_:1},8,["show","formProcessing"]),t(C,{title:"Edit",show:g.value,formProcessing:s(e).processing,onClose:i,onSubmitAction:S},{default:a(()=>[o("div",null,[J,M(o("input",{id:"name",ref_key:"nameInput",ref:n,"onUpdate:modelValue":f[1]||(f[1]=l=>s(e).name=l),onKeyup:D(S,["enter"]),type:"text",placeholder:"Enter name",class:"px-3 py-3 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm shadow outline-none focus:outline-none focus:shadow-outline w-full"},null,544),[[A,s(e).name]]),t(N,{message:s(e).errors.name},null,8,["message"])])]),_:1},8,["show","formProcessing"]),t(C,{title:"Delete",show:_.value,formProcessing:s(e).processing,onClose:i,onSubmitAction:B,maxWidth:"sm",submitButtonText:"Yes, delete it!"},{default:a(()=>[d(" Are you sure you want to delete this category? ")]),_:1},8,["show","formProcessing"])]),_:1})],64))}};export{ue as default};
