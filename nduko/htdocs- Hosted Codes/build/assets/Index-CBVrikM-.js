import{_ as U}from"./AuthenticatedLayout-DLkwLcfa.js";import{z as m,T as B,o as h,f as b,a as l,u as a,w as t,F as M,Z as H,e as i,b as s,t as c,p as K,A as j}from"./app-BFdvWdPW.js";import{C as N,T as p}from"./CardTable-l0smLcxO.js";import{_ as w}from"./Button-DFQRb66K.js";import{_ as F}from"./InputError-a4mSKZfl.js";import{_ as V}from"./Modal-joEd8Ug0.js";import{_ as y}from"./DashboardInputGroup-Bt3DPHes.js";import{A as I}from"./AsyncVueSelect-B28Y1GZM.js";import{s as E}from"./Helper-BCdQTIvK.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-B1CxOjRT.js";import"./SubmitButton-D3rMXE0N.js";const O={class:"flex flex-wrap"},z={class:"w-full px-4"},L={class:"flex justify-between items-center"},R={class:"text-2xl"},W=s("i",{class:"fa fa-edit"},null,-1),Y=s("i",{class:"fa fa-trash-alt"},null,-1),Z={class:"mt-2 grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 min-h-32"},q={class:"flex flex-col"},G=s("label",{for:"employee",class:"text-stone-600 text-sm font-medium"},"Select Employee",-1),J={class:"flex flex-col overflow-auto"},Q={class:"mt-2 grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3"},X={class:"flex flex-col overflow-auto"},ee={class:"flex flex-col overflow-auto"},fe={__name:"Index",props:{filters:{type:Object},salaries:{type:Object}},setup(d){const _=m(null),g=m(!1),v=m(!1),x=m(!1),S=m(null),C=m(["#","Employee","Amount","Salary Date","Action"]),e=B({employee_id:"",amount:"",salary_date:""}),A=n=>{_.value=n,e.employee_id=n.employee_id,e.amount=n.amount,e.salary_date=n.salary_date,v.value=!0,j(()=>S.value.focus())},k=n=>{_.value=n,x.value=!0},f=()=>{e.post(route("salaries.store"),{preserveScroll:!0,onSuccess:n=>{u(),E()},onError:()=>S.value.focus()})},D=()=>{e.put(route("salaries.update",_.value.id),{preserveScroll:!0,onSuccess:()=>{u(),E()},onError:()=>S.value.focus()})},P=()=>{e.delete(route("salaries.destroy",_.value.id),{preserveScroll:!0,onSuccess:()=>{u(),E()}})},u=()=>{g.value=!1,v.value=!1,x.value=!1,e.reset()};return(n,r)=>(h(),b(M,null,[l(a(H),{title:"Salary"}),l(U,null,{breadcrumb:t(()=>[i(" Salary ")]),default:t(()=>[s("div",O,[s("div",z,[l(N,{indexRoute:"salaries.index",paginatedData:d.salaries,filters:d.filters,tableHeads:C.value},{cardHeader:t(()=>[s("div",L,[s("h4",R,"Apply filters("+c(d.salaries.total)+")",1),l(w,{onClick:r[0]||(r[0]=o=>g.value=!0)},{default:t(()=>[i("Pay Salary")]),_:1})])]),default:t(()=>[(h(!0),b(M,null,K(d.salaries.data,(o,T)=>(h(),b("tr",{key:o.id},[l(p,null,{default:t(()=>[i(c(d.salaries.current_page*d.salaries.per_page-(d.salaries.per_page-(T+1))),1)]),_:2},1024),l(p,null,{default:t(()=>[i(c(o.employee.name)+" ("+c(o.employee.designation)+")",1)]),_:2},1024),l(p,null,{default:t(()=>[i(c(o.amount),1)]),_:2},1024),l(p,null,{default:t(()=>[i(c(o.salary_date),1)]),_:2},1024),l(p,null,{default:t(()=>[l(w,{onClick:$=>A(o)},{default:t(()=>[W]),_:2},1032,["onClick"]),l(w,{onClick:$=>k(o),type:"red"},{default:t(()=>[Y]),_:2},1032,["onClick"])]),_:2},1024)]))),128))]),_:1},8,["paginatedData","filters","tableHeads"])])]),l(V,{title:"Pay Salary",show:g.value,formProcessing:a(e).processing,onClose:u,onSubmitAction:f},{default:t(()=>[s("div",Z,[s("div",q,[G,l(I,{modelValue:a(e).employee_id,"onUpdate:modelValue":r[1]||(r[1]=o=>a(e).employee_id=o),resource:"employees.index",placeholder:"Select employee",class:"mt-2"},null,8,["modelValue"]),l(F,{message:a(e).errors.employee_id},null,8,["message"])]),s("div",J,[l(y,{label:"Salary Date",name:"salary_date",modelValue:a(e).salary_date,"onUpdate:modelValue":r[2]||(r[2]=o=>a(e).salary_date=o),placeholder:"Enter salary date",errorMessage:a(e).errors.salary_date,onKeyupEnter:f,type:"date"},null,8,["modelValue","errorMessage"])])])]),_:1},8,["show","formProcessing"]),l(V,{title:"Edit",show:v.value,formProcessing:a(e).processing,onClose:u,onSubmitAction:D},{default:t(()=>[s("div",null,[l(y,{label:"Employee",name:"employee_id",modelValue:a(e).employee_id,"onUpdate:modelValue":r[3]||(r[3]=o=>a(e).employee_id=o),placeholder:"Select employee",errorMessage:a(e).errors.employee_id,onKeyupEnter:f},null,8,["modelValue","errorMessage"])]),s("div",Q,[s("div",X,[l(y,{label:"Amount",name:"amount",modelValue:a(e).amount,"onUpdate:modelValue":r[4]||(r[4]=o=>a(e).amount=o),placeholder:"Enter amount",errorMessage:a(e).errors.amount,onKeyupEnter:f,type:"number"},null,8,["modelValue","errorMessage"])]),s("div",ee,[l(y,{label:"Salary Date",name:"salary_date",modelValue:a(e).salary_date,"onUpdate:modelValue":r[5]||(r[5]=o=>a(e).salary_date=o),placeholder:"Enter salary date",errorMessage:a(e).errors.salary_date,onKeyupEnter:f,type:"date"},null,8,["modelValue","errorMessage"])])])]),_:1},8,["show","formProcessing"]),l(V,{title:"Delete",show:x.value,formProcessing:a(e).processing,onClose:u,onSubmitAction:P,maxWidth:"sm",submitButtonText:"Yes, delete it!"},{default:t(()=>[i(" Are you sure you want to delete this salary? ")]),_:1},8,["show","formProcessing"])]),_:1})],64))}};export{fe as default};
